title: B3-T06
date: 2019-01-16 16:11:23
---

Modelización conceptual. El modelo Entidad/Relación extendido (E/R): elementos. Reglas de modelización. Validación y construcción de modelos de datos.
======================================================================================================================================================

Modelo Conceptual de Datos
--------------------------

A la hora de determinar una BD debemos establecer un proceso partiendo del acotamiento de una parcela del mundo exterior (micromundo o universo del discurso), aquél que nos interesa representar en los datos. En este proceso se debe aprender, comprender y conceptualizar dicho mundo exterior transformándolo en un conjunto de ideas y definiciones que supongan una imagen fiel del comportamiento del mundo real. A esta imagen del mundo exterior la llamaremos **Modelo Conceptual** .

Una vez definido el modelo conceptual, éste se ha de transformar en una descripción de datos, atributos y relaciones que denominaremos Esquema Conceptual de datos. Por último, este esquema conceptual habrá que traducirlo a estructuras almacenables en soportes físicos. Por tanto es necesario distinguir entre Bases de Datos, que será el banco, el almacén de los valores (ocurrencias) de los datos. Los modelos de Datos, que son las herramientas para diseñar los datos y sus relaciones de forma que puedan soportar los valores correspondientes. Y finalmente los Sistemas Gestores de Bases de Datos (SGBD), que serán los encargados de las acciones que llevemos a cabo con las bases de datos, permitiendo también cumplimentar a los usuarios, mostrándoles los datos de acuerdo a sus necesidades. Con todo ello, se puede definir un Modelo de Datos como: Un grupo de herramientas conceptuales para describir los datos, sus relaciones, su semántica y sus limitaciones; de tal forma, que facilita la interpretación de nuestro mundo real y su representación en forma de datos, en nuestro sistema informático.

Definido el modelo de datos, pasamos a analizarlo. Para ello, partiremos de las propiedades que podemos diferenciar en dos tipos:

-   **Estáticas** : Son las propiedades invariantes en el tiempo. Quedan especificadas en el Modelo de Datos por ESTRUCTURAS. Esta se define mediante el ESQUEMA, con el lenguaje de definición de datos (DDL). El esquema, a su vez está constituido por Estructura y Restricciones. La Estructura queda definida por los Objetos del Modelo y las Restricciones inherentes, conformando un conjunto de reglas de definición de dichas Estructuras. Los objetos y Restricciones de la Estructura dependen de cada Modelo, pero en general son:
    -   Entidades.
    -   Atributos.
    -   Dominio.
    -   Relaciones.
    -   Representación.
    -   Restricciones: Hay tres tipos de restricciones:
        -   _Restricciones inherentes_ : vienen impuestas por la propia naturaleza del Modelo introduciendo rigideces en la modelización.
        -   _Restricciones opcionales o de usuario_ : restricciones propiamente dichas en el Esquema, son definidas por el usuario, pero el Modelo de Datos las reconoce y suministra herramientas para manejarlas.
        -   _Restricciones libres de usuarios_ : son responsabilidad del usuario y el Modelo de Datos ni las reconoce, ni las maneja.
-   **Dinámicas** : Son las propiedades que varían con el tiempo. En el modelo de datos son las OPERACIONES. Se define como un conjunto de Operaciones con el Lenguaje de Manipulación de Datos (DML). Las operaciones sobre un Modelo de Datos pueden ser de:
    -   Selección. Localización de los datos deseados.
    -   Acción. Realización de una acción sobre los datos seleccionados. Dicha acción puede ser:
        -   Recuperación (obtención de los datos seleccionados).
        -   Actualización, que a su vez pueden ser:
            -   Modificación.
            -   Inserción.
            -   Borrado.

Generalmente, toda operación de Actualización va precedida de una Recuperación, aunque no necesariamente.

Modelo Entidad/Relación Extendido
---------------------------------

Se trata de una técnica cuyo objetivo es la representación y definición de todos los datos que se introducen, almacenan, transforman y producen dentro de un sistema de información, sin tener en cuenta las necesidades de la tecnología existente, ni otras restricciones.

Dado que el modelo de datos es un medio para comunicar el significado de los datos, las relaciones entre ellos y las reglas de negocio de un sistema de información, una organización puede obtener numerosos beneficios de la aplicación de esta técnica, pues la definición de los datos y la manera en que éstos operan son compartidos por todos los usuarios.

Las ventajas de realizar un modelo de datos son, entre otras:

-   Comprensión de los datos de una organización y del funcionamiento de la organización.
-   Obtención de estructuras de datos independientes del entorno físico.
-   Control de los posibles errores desde el principio, o al menos, darse cuenta de las deficiencias lo antes posible.
-   Mejora del mantenimiento.

Aunque la estructura de datos puede ser cambiante y dinámica, normalmente es mucho más estable que la estructura de procesos. Como resultado, una estructura de datos estable e integrada proporciona datos consistentes que puedan ser fácilmente accesibles según las necesidades de los usuarios, de manera que, aunque se produzcan cambios organizativos, los datos permanecerán estables.

Este diagrama se centra en los datos, independientemente del procesamiento que los transforma y sin entrar en consideraciones de eficiencia. Por ello, es independiente del entorno físico y debe ser una fiel representación del sistema de información objeto del estudio, proporcionando a los usuarios toda la información que necesiten y en la forma en que la necesiten.

### Descripción

El modelo entidad/relación extendido describe con un alto nivel de abstracción la distribución de datos almacenados en un sistema. Existen dos elementos principales: las entidades y las relaciones. Las extensiones al modelo básico añaden además los atributos de las entidades y la jerarquía entre éstas. Estas extensiones tienen como finalidad aportar al modelo una mayor capacidad expresiva.

Los elementos fundamentales del modelo son los siguientes:

**Entidad**

Es aquel objeto, real o abstracto, acerca del cual se desea almacenar información en la base de datos. La estructura genérica de un conjunto de entidades con las mismas características se denomina tipo de entidad.

Existen dos clases de entidades:

-   Regulares: tienen existencia por sí mismas.
-   Débiles: cuya existencia depende de otra entidad.

Las entidades deben cumplir las siguientes tres reglas:

-   Tienen que tener existencia propia.
-   Cada ocurrencia de un tipo de entidad debe poder distinguirse de las demás.
-   Todas las ocurrencias de un tipo de entidad deben tener los mismos atributos.

**Relación**

Es una asociación o correspondencia existente entre una o varias entidades. La relación puede ser regular, si asocia tipos de entidad regulares, o débil, si asocia un tipo de entidad débil con un tipo de entidad regular. Dentro de las relaciones débiles se distinguen la **dependencia en existencia** y la **dependencia en identificación** .

Se dice que la dependencia es en existencia cuando las ocurrencias de un tipo de entidad débil no pueden existir sin la ocurrencia de la entidad regular de la que dependen. Se dice que la dependencia es en identificación cuando, además de lo anterior, las ocurrencias del tipo de entidad débil no se pueden identificar sólo mediante sus propios atributos, sino que se les tiene que añadir el identificador de la ocurrencia de la entidad regular de la cual dependen.

Además, se dice que una relación es **exclusiva** cuando la existencia de una relación entre dos tipos de entidades implica la no existencia de las otras relaciones.

Una relación se caracteriza por:

-   **Nombre** : que lo distingue unívocamente del resto de relaciones del modelo.
-   **Tipo de correspondencia** : es el número máximo de ocurrencias de cada tipo de entidad que pueden intervenir en una ocurrencia de la relación que se está tratando. Conceptualmente se pueden identificar tres clases de relaciones:
    -   _Relaciones 1:1_ : Cada ocurrencia de una entidad se relaciona con una y sólo una ocurrencia de la otra entidad.
    -   _Relaciones 1:N_ : Cada ocurrencia de una entidad puede estar relacionada con cero, una o varias ocurrencias de la otra entidad.
    -   _Relaciones M:N_ : Cada ocurrencia de una entidad puede estar relacionada con cero, una o varias ocurrencias de la otra entidad y cada ocurrencia de la otra entidad puede corresponder a cero, una o varias ocurrencias de la primera.
-   **Cardinalidad** : representa la participación en la relación de cada una de las entidades afectadas, es decir, el número máximo y mínimo de ocurrencias de un tipo de entidad que pueden estar interrelacionadas con una ocurrencia de otro tipo de entidad. La cardinalidad máxima coincide con el tipo de correspondencia.  
    Según la cardinalidad, una relación es obligatoria, cuando para toda ocurrencia de un tipo de entidad existe al menos una ocurrencia del tipo de entidad asociado, y es opcional cuando, para toda ocurrencia de un tipo de entidad, puede existir o no una o varias ocurrencias del tipo de entidad asociado.

**Dominio**

Es un conjunto nominado de valores homogéneos. El dominio tiene existencia propia con independencia de cualquier entidad, relación o atributo.

**Atributo**

Es una propiedad o característica de un tipo de entidad. Se trata de la unidad básica de información que sirve para identificar o describir la entidad. Un atributo se define sobre un dominio. Cada tipo de entidad ha de tener un conjunto mínimo de atributos que identifiquen unívocamente cada ocurrencia del tipo de entidad. Este atributo o atributos se denomina identificador principal. Se pueden definir restricciones sobre os atributos, según las cuales un atributo puede ser:

-   Univaluado, atributo que sólo puede tomar el valor para todas y cada una de las ocurrencias del tipo de entidad al que pertenece.
-   Obligatorio, atributo que tiene que tomar al menos un valor para todas y cada una de las ocurrencias del tipo de entidad al que pertenece.

Además de estos elementos, existen extensiones del modelo entidad/relación que incorporan determinados conceptos o mecanismos de abstracción para facilitar la representación de ciertas estructuras del mundo real:

-   La **generalización** , permite abstraer un tipo de entidad de nivel superior (supertipo) a partir de varios tipos de entidad (subtipos); en estos casos los atributos comunes y relaciones de los subtipos se asignan al supertipo. Se pueden generalizar por ejemplo los tipos _profesor_ y _estudiante_ obteniendo el _supertipo_ persona.
-   La **especialización** es la operación inversa a la generalización, en ella un supertipo se descompone en uno o varios subtipos, los cuales heredan todos los atributos y relaciones del supertipo, además de tener los suyos propios. Un ejemplo es el caso del tipo _empleado_ , del que se pueden obtener los subtipos _secretaria_ , _técnico_ e _ingeniero_ .
-   **Categorías** . Se denomina categoría al subtipo que aparece como resultado de la unión de varios tipos de entidad. En este caso, hay varios supertipos y un sólo subtipo. Si por ejemplo se tienen los tipos _persona_ y _compañía_ y es necesario establecer una relación con _vehículo_ , se puede crear _propietario_ como un subtipo unión de los dos primeros.
-   La **agregación** , consiste en construir un nuevo tipo de entidad como composición de otros y su tipo de relación y así poder manejarlo en un nivel de abstracción mayor. Por ejemplo, se tienen los tipos de entidad _empresa_ y _solicitante de empleo_ relacionados mediante el tipo de relación _entrevista_ ; pero es necesario que cada _entrevista_ se corresponda con una determinada _oferta de empleo_ . Como no se permite la relación entre tipos de relación, se puede crear un tipo de entidad compuesto por _empresa_ , _entrevista_ y _solicitante de empleo_ y relacionarla con el tipo de entidad _oferta de empleo_ . El proceso inverso se denomina desagregación.
-   La **asociación** , consiste en relacionar dos tipos de entidades que normalmente son de dominios independientes, pero coyunturalmente se asocian.

La existencia de supertipos y subtipos, en uno o varios niveles, da lugar a una **jerarquía** , que permitirá representar una restricción del mundo real.

Una vez construido el modelo entidad/relación, hay que analizar si se presentan redundancias. Para poder asegurar su existencia se deben estudiar con mucho detenimiento las cardinalidades mínimas de las entidades, así como la semántica de las relaciones.

Los atributos redundantes, los que se derivan de otros elementos mediante algún cálculo, deben ser eliminados del modelo entidad/relación o marcarse como redundantes.

Igualmente, las relaciones redundantes deben eliminarse del modelo, comprobando que al eliminarlas sigue siendo posible el paso, tanto en un sentido como en el inverso, entre las dos entidades que unían.

### Notación

**Entidad**

La representación gráfica de un tipo de entidad regular es un rectángulo con el nombre del tipo de entidad. Un tipo de entidad débil se representa con dos rectángulos concéntricos con su nombre en el interior.

![](https://gsitic.files.wordpress.com/2018/04/entidad.png?w=825)

**Relación**

Se representa por un rombo unido a las entidades relacionadas por dos líneas retas a los lados. El tipo de correspondencia se representa gráficamente con una etiqueta _1:1_ , _1:N_ o _M:N_ , cerca de alguno de los vértices del rombo, o bien situando cada número o letra cerca de la entidad correspondiente, para mayor claridad.

![](https://gsitic.files.wordpress.com/2018/04/relacion.png?w=825)

La representación gráfica de las cardinalidades se realiza mediante una etiqueta del tipo _(0,1)_ , ( _1,1)_ , _(0,n)_ o _(1,n)_ , que se coloca en el extremo de la entidad que corresponda. Si se representan las cardinalidades, la representación del tipo de correspondencia es redundante.

![](https://gsitic.files.wordpress.com/2018/04/relacion1.png?w=825)

_Relaciones del tipo M:N (Muchos a Muchos):_

Si existe un concepto que puede sustituir la relación, tiene sentido como entidad y aporta una mejor comprensión al modelo (para usuarios y analistas) es conveniente deshacerlas mediante esta entidad y las relaciones uno a muchos adecuadas.

![](https://gsitic.files.wordpress.com/2018/04/muchos_a_muchos.png?w=825)

_Relaciones entre Tres o Más Entidades_

Las relaciones entre tres o más entidades se reclasificarán mediante una entidad relacionada con cada una de ellas, si existe un concepto que puede ser representado como una entidad, y aporta mayor comprensión al problema.

![](https://gsitic.files.wordpress.com/2018/04/relaciones_tres_o_mas.png?w=825)

_Relaciones potencialmente redundantes_

Pueden serlo o no, depende del significado de las relaciones y de las cardinalidades.

Deben ser eliminadas.

![](https://gsitic.files.wordpress.com/2018/04/relaciones_redundantes.png?w=825)

_Relaciones Recursivas o Autorrelaciones_

![](https://gsitic.files.wordpress.com/2018/04/relaciones_recursivas.png?w=825)

**Atributo**

Un atributo se representa mediante una elipse, con su nombre dentro, conectada por una línea al tipo de entidad o relación.

En lugar de una elipse puede utilizarse un círculo con el nombre dentro, o un círculo más pequeño con el nombre del atributo a un lado. También pueden representarse en una lista asociada a la entidad. El identificador aparece con el nombre marcada o subrayado, o bien con su círculo en negro.

![](https://gsitic.files.wordpress.com/2018/04/atributo.png?w=825)

**Exclusividad**

En la representación de las relaciones exclusivas se incluye un arco sobre las líneas que conectan el tipo de entidad a los dos o más tipos de relación.

![](https://gsitic.files.wordpress.com/2018/04/exclusividad.png?w=825)

**Jerarquía (tipos y subtipos)**

La representación de las jerarquías se realiza mediante un triángulo invertido, con la base paralela al rectángulo que representa el supertipo y conectando a éste y a los subtipos. Si la división en subtipos viene determinada en función de los valores de un atributo discriminante, éste se representará asociado al triángulo que representa la relación.

![](https://gsitic.files.wordpress.com/2018/04/jerarquia.png?w=825)

En el triángulo se representará: con una letra **d** el hecho de que los subtipos sean disjuntos, con un círculo o una **O** si los subtipos pueden solaparse y con un **U** el caso de uniones por categorías. La presencia de una jerarquía total se representa con una doble línea entre el supertipo y el triángulo.

![](https://gsitic.files.wordpress.com/2018/04/tipos_y_subtipos.png?w=825)

**Ejemplo**

Modelo entidad-relación extendido para un sistema de gestión de técnicos y su asignación a proyectos dentro de una empresa u organización.

Como se aprecia en el diagrama, TÉCNICO es un subtipo de EMPLEADO, generado por especialización, pues era necesario para establecer la relación _Trabaja en_ con PROYECTO, ya que no todos los empleados de la empresas, como los administrativos, son susceptibles de trabajar en un proyecto. La entidad TÉCNICO tendrá los atributos de EMPLEADO más el atributo _nivel_ .

![](https://gsitic.files.wordpress.com/2018/04/ejemplo.png?w=825)

Los tipos de correspondencia son _1:N_ entre DEPARTAMENTO y EMPLEADO, pues un departamento tienen 1 o varios empleados. Entre TÉCNICO y PROYECTO es _M:N_ , pues un técnico puede trabajar en 1 o varios proyectos, y en un proyecto trabajan 1 o varios técnicos.

Por otro lado, se han incluido atributos que caracterizan la relación _Trabaja en_ , como son _fecha de asignación_ y _fecha de cese_ , ya que un técnico no siempre estará trabajando en un proyecto, sino en determinado periodo. (Nota.- Esta notación es la más habitual, pero MÉTRICA Versión 3 no exige su utilización).

![](https://gsitic.files.wordpress.com/2018/04/cardinalidad.png?w=825)

Normalización
-------------

La teoría de la normalización tiene por objetivo la eliminación de dependencias entre atributos que originen anomalías en la actualización de los datos, y proporcionar una estructura más regular para la representación de las tablas, constituyendo el soporte para el diseño de bases de datos relacionales.

Como resultado de la aplicación de esta técnica se obtiene un modelo lógico de datos normalizado.

### Descripción

La teoría de la normalización, como técnica formal para organizar los datos, ayuda a encontrar fallos y a corregirlos, evitando así introducir anomalías en las operaciones de manipulación de datos.

Se dice que una relación está en una determinada forma normal si satisface un cierto conjunto de restricciones sobre los atributos. Cuanto más restricciones existan, menor será el número de relaciones que las satisfagan, así, por ejemplo, una relación en tercera forma normal estará también en segunda y en primera forma normal.

Antes de definir las distintas formas normales se explican, muy brevemente, algunos conceptos necesarios para su comprensión.

**Dependencia funcional**

Un atributo _Y_ se dice que depende funcionalmente de otro _X_ si, y sólo si, a cada valor de _X_ le corresponde un único valor de _Y_ , lo que se expresa de la siguiente forma: _X → Y_ (también se dice que _X_ determina o implica a _Y_ ).

_X_ se denomina implicante o determinante e _Y_ es el implicado.

**Dependencia funcional completa**

Un atributo _Y_ tiene dependencia funcional completa respecto de otro _X_ , si depende funcionalmente de él en su totalidad, es decir, no depende de ninguno de los posibles atributos que formen parte de _X_ .

**Dependencia transitiva**

Un atributo depende transitivamente de otro si, y sólo si, depende de él a través de otro atributo. Así, _Z_ depende transitivamente de _X_ , si:

X → Y
Y ---/→ X
Y → Z

Se dice que _X_ implica a _Z_ a través de _Y_ .

Una vez definidas las anteriores dependencias, se pueden enunciar las siguientes formas normales:

_Primera Forma Normal (1FN)_

Una entidad está en 1FN si no tiene grupos repetitivos, es decir, un atributo sólo puede tomar un único valor de un dominio simple.

Una vez identificados los atributos que no dependen funcionalmente de la clave principal, se formará con ellos una nueva entidad y se eliminarán de la antigua. La clave principal de la nueva entidad estará formada por la concatenación de uno o varios de sus atributos más la clave principal de la antigua entidad.

_Segunda Forma Normal (2FN)_

Una entidad está en 2FN si está en 1FN y todos los atributos que no forman parte de las claves candidatas (atributos no principales) tienen dependencia funcional completa respecto de éstas, es decir, no hay dependencias funcionales de atributos no principales respecto de una parte de las claves. Cada uno de los atributos de una entidad depende de toda la clave.

Una vez identificados los atributos que no dependen funcionalmente de toda la clave, sino sólo de parte de la misma, se formará con ellos una nueva entidad y se eliminarán de la antigua. La clave principal de la nueva entidad estará formada por la parte de la antigua de la que dependen funcionalmente.

_Tercera Forma Normal (3FN)_

Una entidad está en 3FN si está en 2FN y todos sus atributos no principales dependen directamente de la clave primaria, es decir, no hay dependencias funcionales transitivas de atributos no principales respecto de las claves.

Una vez identificados los atributos que dependen de otro atributo distinto de la clave, se formará con ellos una nueva entidad y se eliminarán de la antigua. La clave principal de la nueva entidad será el atributo del cual dependen. Este atributo en la entidad antigua, pasará a ser una clave ajena.

### Notación

Una herramienta muy útil para visualizar las dependencias funcionales es el grafo o diagrama de dependencias funcionales, mediante el cual se representa un conjunto de atributos y las dependencias funcionales existentes entre ellos.

En el grafo aparecen los nombre de los atributos unidos por flechas, las cuales indican las dependencias funcionales completas que existen entre ellos, partiendo del implicante hacia el implicado. Cuando el implicante de una dependencia no es un único atributo, es decir, se trata de un implicante compuesto, los atributos que lo componen se encierran en un recuadro y la flecha parte de éste, no de cada atributo.

![](https://gsitic.files.wordpress.com/2018/04/dependencia_funcional.png?w=825)

En la figura se presenta un ejemplo de cómo se visualizan las dependencias. Se puede observar que COD\_LIBRO determina funcionalmente el TITULO del libro y la EDITORIAL, como indica la correspondiente flecha; de forma análoga, NUM\_SOCIO determina NOMBRE, DOMICILIO y TEL. del socio (suponiendo que sólo se proporciona un teléfono); mientras que ambos atributos en conjunto COD\_LIBRO y NUM\_SOCIO (lo que se indica mediante el recuadro que los incluye) determinan FECHA\_PRESTAMO y FECHA\_DEV.

### Ejemplo

Sea una entidad TÉCNICOS de un grupo de empresas, con los siguientes atributos:

-   cod\_empresa
-   cod\_técnico
-   nombre\_técnico
-   cod\_categoría
-   categoría
-   nombre\_empresa
-   fecha\_alta
-   fecha\_baja
-   cod\_conoc
-   titulo\_conoc
-   área\_conoc
-   grado
-   cod\_proyecto
-   nombre\_proyecto
-   f\_inicio
-   f\_fin
-   f\_asignación
-   f\_cese
-   cod\_cliente
-   nombre\_cliente

La entidad TÉCNICOS tiene la clave principal compuesta por _cod\_empresa_ y _cod\_técnico_ , ya que, al ser varias empresas, el código de técnico no será único, sino que puede coincidir con otros de otras empresas.

_Primera Forma Normal (1FN)_

Evidentemente no se cumple la primera forma normal, ya que un técnico tendrá más o de un conocimiento (lenguajes, sistemas, operativos, bases de datos, etc), es decir habrá varios valores de _cod\_conoc_ , por lo que este atributo y los asociados a conocimientos no dependen funcionalmente de la clave principal.

Los atributos _cod\_conoc_ , _título\_conoc_ , _área\_conoc_ y _grado_ identificados como no dependientes, formarán la nueva entidad CONOCIMIENTOS y desaparecerán de la entidad TÉCNICOS. La clave de la nueva entidad será _cod\_conoc_ concatenada con _cod\_empresa_ y _cod\_técnico_ .

Por otro lado, en este sistema un técnico puede trabajar en más de un proyecto a tiempo parcial, por lo que _cod\_proyecto_ tampoco depende funcionalmente de la clave principal de TÉCNICOS.

Se obtiene entonces la entidad PROYECTOS con los atributos de los proyectos, y su clave compuesta de _cod\_proyecto_ concatenada con _cod\_empresa_ y _cod\_técnico_ de la antigua entidad.

Esta situación se completará con dos tipos de relaciones: _Poseen_ , cuyo tipo de correspondencia es _1:N_ entre TÉCNICOS y CONOCIMIENTOS y _Están asignados_ , también del tipo _M:N_ entre TÉCNICOS y PROYECTOS, tal y como muestra el diagrama siguiente:

![](https://gsitic.files.wordpress.com/2018/04/diagrama_1fn.png?w=825)

Como se aprecia en la figura, se ha trasladado el atributo _grado_ de la entidad CONOCIMIENTOS a la relación _Poseen_ , pues es un atributo que determina la relación entre las dos entidades. También han sido trasladado los atributos que caracterizan la relación _Están asignados_ , como son _f\_asignación_ y _f\_cese_ , ya que un técnico no siempre estará trabajando en un proyecto, sino en determinado periodo.

_Segunda Forma Normal (2FN)_

En la entidad TÉCNICOS se observa que el atributo _nombre\_empresa_ no tiene una dependencia funcional completa con la clave, sino que la tiene sólo de una parte de la misma: _cod\_empresa_ .

El atributo identificado formará parte de una nueva entidad, EMPRESAS, siendo eliminado de la antigua. La clave principal de la nueva entidad será _cod\_empresa_ .

Para representar la segunda forma normal en el modelo de datos, deberá añadirse un tipo de relación, _Se componen_ , y el tipo de correspondencia _1:N_ .

![](https://gsitic.files.wordpress.com/2018/04/diagrama_2fn.png?w=825)

_Tercera Forma Normal (3FN)_

En la entidad TÉCNICOS de la figura se puede observar que para un _cod\_técnico_ hay un único _cod\_categoría_ , es decir, el segundo depende funcionalmente del primero; para un _cod\_categoría_ hay una única _categoría_ , es decir, que este atributo depende funcionalmente del _cod\_categoría_ ; y por último, para un _cod\_categoría_ hay varios valores de _cod\_técnico_ . Así pues, la categoría depende transitivamente del _cod\_técnico_ , por lo que la entidad TÉCNICOS no está en 3FN.

Una vez identificado el atributo categoría que depende de otro atributo distinto de la clave, _cod\_categoría_ , se formará con él una nueva entidad y se quitará de la antigua. La clave principal de la nueva entidad será el atributo del cual depende _cod\_categoría_ y en la entidad antigua pasará a ser una clave ajena.

Del mismo modo, puede observarse que la entidad PROYECTOS tampoco está en 3FN, pues el _nombre\_cliente_ depende de _cod\_cliente_ , que no forma parte de la clave de la entidad.

![](https://gsitic.files.wordpress.com/2018/04/diagramas_3fn.png?w=825)

Así pues, aparecen dos entidades nuevas en el modelo: CATEGORÍAS y CLIENTES, y sus respectivas relaciones y tipos de correspondencias: _Están clasificados 1:N_ y _Tiene contratados 1:N_ .

Optimización
------------

El objetivo de esta técnica es reestructurar el modelo físico de datos con el fin de asegurar que satisface los requisitos de rendimiento establecidos y conseguir una adecuada eficiencia del sistema.

### Descripción

La optimización consiste en una desnormalización controlada del modelo físico de datos que se aplica para reducir o simplificar el número de accesos a la base de datos.

Para ello, se seguirán alguna de las recomendaciones que a continuación se indican:

-   Introducir elementos redundantes.
-   Dividir entidades.
-   Combinar entidades si los accesos son frecuentes dentro de la misma transacción.
-   Redefinir o añadir relaciones entre entidades para hacer más directo el acceso entre entidades.
-   Definir claves secundarias o índices para permitir caminos de acceso alternativos.

Con el fin de analizar la conveniencia o no de la desnormalización, se han de considerar, entre otros, los siguientes aspectos:

-   Los tiempos de respuesta requeridos.
-   La tasa de actualizaciones respecto a la de recuperaciones.
-   Las veces que se accede conjuntamente a los atributos.
-   La longitud de los mismos.
-   El tipo de aplicaciones (en línea / por lotes).
-   La frecuencia y tipo de acceso.
-   La prioridad de los accesos.
-   El tamaño de las tablas.
-   Los requisitos de seguridad: accesibilidad, confidencialidad, integridad y disponibilidad que se consideren relevantes.

Reglas de Obtención del Modelo Físico a partir del Lógico
---------------------------------------------------------

El objetivo de esta técnica es obtener un modelo físico de datos a paritr del modelo lógico de datos normalizado. Para ello es necesario aplicar un conjunto de reglas que conserven la semántica del modelo lógico.

### Descripción

Cada uno de los elementos del modelo lógico se tiene que transformar en un elemento del modelo físico. En algunos casos la transformación es directa porque el concepto se soporta igual en ambos modelos, pero otras veces no existe esta correspondencia, por lo que es necesario buscar una transformación que conserve lo mejor posible la semántica, teniendo en cuenta los aspectos de eficiencia que sean necesarios en cada caso.

**Transformación de entidades**

Una entidad se transforma en una tabla.

**Transformación de atributos de entidades**

Cada atributo se transforma en una columna de la tabla en la que se transformó la entidad a la que pertenece. El identificador único se convierte en clave primaria.

Si existen restricciones asociadas a los atributos, éstas pueden recogerse con algunas cláusulas del lenguaje lógico, que se convertirán en disparadores cuando éstos sean soportados por el sistema gestor de base de datos.

**Transformación de relaciones**

Según el tipo de correspondencia:

-   **Relaciones 1:N** : se propaga el identificador de la entidad de cardinalidad máxima _1_ a la que es _N_ , teniendo en cuenta que:
    -   Si la relación es de asociación, la clave propagada es clave ajena en la tabla a la que se ha propagado.
    -   Si la relación es de dependencia, la clave primaria de la tabla correspondiente a la entidad débil está formada por la concatenación de los identificadores de ambas entidades.
-   **Relaciones 1:1** : es un caso particular de las _1:N_ y por tanto se propaga la clave en las dos direcciones. Se debe analizar la situación, intentando recoger la mayor semántica posible, y evitar valores nulos.

Las relaciones de agregación se transforman del mismo modo que las _1:N_ .

**Transformación de relaciones exclusivas**

Después de haber realizado la transformación según las relaciones _1:N_ , se debe tener en cuenta que si los identificadores propagados se han convertido en claves ajenas de la tabla originada por la entidad común a las relaciones, hay que comprobar que una y sólo una de esas claves es nula en cada ocurrencia. En otro caso, estas comprobaciones se deben hacer en las tablas resultantes de transformar las relaciones.

**Transformación de la jerarquía**

Existen varias posibilidades que deben ser evaluadas por el diseñador a fin de elegir la que mejor se ajuste a los requisitos. Las opciones para tratar la transformación de la jerarquía son:

-   **Opción a** : Consiste en crear una tabla para el supertipo que tenga de clave primaria el identificador y una tabla para cada uno de los subtipos que tengan el identificador del supertipo como clave ajena.  
    Esta solución es apropiada cuando los subtipos tienen muchos atributos distintos y se quieren conservar los atributos comunes en una tabla. También se deben implantar las restricciones y aserciones adecuadas. Es la solución que mejor conserva la semántica.
-   **Opción b** : Se crea una tabla para cada subtipo, los atributos comunes aparecen en todos los subtipos y la clave primaria para cada tabla es el identificador del supertipo.  
    Esta opción mejora la eficiencia en los accesos a todos los atributos de un subtipo, sean los comunes al supertipo o los específicos.
-   **Opción c** : Agrupar en una tabla todos los atributos de la entidad supertipo y de los subtipos. La clave primaria de esta tabla es el identificador de la entidad. Se añade un atributo que indique a qué subtipo pertenece cada ocurrencia (el atributo discriminante de la jerarquía). Esta solución puede aplicarse cuando los subtipos se diferencien en pocos atributos y las relaciones entre los subtipos y otras entidades sean las mismas. Para el caso de que la jerarquía sea total, el atributo discriminante no podrá tomar valor nulo (ya que toda ocurrencia pertenece a alguna de las entidades subtipo).

### Notación

**Tabla**

La representación gráfica de una tabla es un rectángulo con una línea horizontal que lo divide en dos. La parte superior, de ancho menor, se etiqueta con el nombre de la tabla.

![](https://gsitic.files.wordpress.com/2018/04/tabla.png?w=825)

**Relación**

La relación entre tablas se representa gráficamente mediante una línea que las une. En ella pueden aparecer en sus extremos diversos símbolos para indicar la cardinalidad de la relación, como se muestra a continuación:

![](https://gsitic.files.wordpress.com/2018/04/relacion2.png?w=825)

_Ejemplo._

Sea el diagrama entidad-relación del ejemplo realizado para la Normalización sobre conocimientos de técnicos informáticos y su asignación a proyectos.

![](https://gsitic.files.wordpress.com/2018/04/diagrama_entidad_relacion.png?w=825)

El modelo físico de la figura muestra que cada una de las entidades se ha convertido en una tabla, cuyo contenido coincide con los atributos de la entidad. Pero hay dos tablas más: POSEEN, que surge de la relación del mismo nombre y ASIGNACIONES, que se origina a partir de la relación _Están asignados_ .

La tabla POSEEN está formada por su atributo _grado_ , más _cod\_empresa_ , _cod\_tecnico_ y _cod\_conoc_ . La tabla ASIGNACIONES se forma con los atributos clave _cod\_empres_ a, _cod\_tecnico_ y _cod\_proyecto_ y los propios _f\_asignación_ y _f\_cese_ .

La relación entre EMPRESAS y TÉCNICOS era _1:N_ , y la cardinalidad de la figura así lo muestra, pues la empresa siempre estará compuesta de uno o varios técnicos. Lo mismo sucede entre CLIENTES y PROYECTOS: un cliente siempre tendrá 1 o varios proyectos contratados.

El caso de CATEGORÍAS y TÉCNICOS es _(0,n)_ . Cada técnico es de una categoría y una categoría corresponde, por regla general, a varios técnicos, pero puede existir alguna en la que no encaje ningún técnico (contable, secretaria de dirección, etc.).

La situación del subconjunto TÉCNICOS-POSEEN-CONOCIMIENTOS tienen algo más de complejidad. Un técnico posee normalmente varios conocimientos, pero debe poseer al menos uno para que tenga sentido su situación. La cardinalidad es pues _(1,n)_ entre TÉCNICOS y POSEEN. En el otro lado, lo natural es que un conocimiento sea poseído por varios técnicos, sin embargo puede existir algún conocimiento que no sea poseído por ningún técnico, por lo que la cardinalidad es _(0,n)_ y dibujada desde la tabla CONOCIMIENTOS a POSEEN.

Por último, en el subconjunto TÉCNICOS-ASIGNACIONES-PROYECTOS, se dispone de: una cardinalidad _(0,n)_ , pues a un proyecto estarán asignados uno o más técnicos, pero puede haber algún técnico que, en un momento dado, no esté asignado aún a ningún proyecto y una cardinalidad _(1,n)_ , pues un proyecto siempre tendrá asignado al menos a un técnico, o varios.

(Nota.- La notación utilizada para el ejemplo es la más habitual, pero MÉTRICA Versión 3 no exige su utilización).

Reglas de Transformación
------------------------

El objetivo de esta técnica es obtener un modelo físico de datos a partir del modelo de clases. Para ello es necesario aplicar un conjunto de reglas de transformación que conserven la semántica del modelo de clases.

### Descripción

Cada uno de los elementos del modelo de clases se tiene que transformar en un elemento del modelo físico. En algunos casos la transformación es directa porque el concepto se soporta igual en ambos modelos, pero otras veces no existe esta correspondencia, por lo que es necesario buscar una transformación que conserve lo mejor posible la semántica, teniendo en cuenta los aspectos de eficiencia que sean necesarios en cada caso.

**Transformación de clases**

Una clase se transforma en una tabla. Lo habitual es que en los modelos con herencia pueden surgir excepciones cuando se apliquen las reglas de transformación propias de la herencia. Además, es posible que dos clases se transformen en una sola tabla cuando el comportamiento de una de ellas sea irrelevante en la base de datos.

**Transformación de atributos de clases**

Cada atributo se transforma en una columna de la tabla en la que se transformó la clase a la que pertenece. El identificador único se convierte en clave primaria. Además, se deben tener en cuenta las reglas de transformación que se aplican a la herencia de clases.

Si existen restricciones asociadas a los atributos, éstas pueden recogerse con algunas cláusulas del lenguaje lógico, que se convertirán en disparadores cuando éstos sean soportados por el sistema gestor de base de datos.

**Transformación de relaciones**

Según el tipo de correspondencia:

-   **Relaciones M:N** : se transforman en una tabla, cuya clave primaria es la concatenación de los identificadores de las clases asociadas, siendo cada uno de ellos clave ajena de la propia tabla. Si la relación tienen atributos, éstos se transforman en columnas de la tabla.
-   **Relaciones 1:N** : existen varias posibilidades:
    -   Propagar el identificador de la clase de cardinalidad máxima _1_ a la que es _N_ , teniendo en cuenta que:
        -   Si la relación es de asociación, la clave propagada es clave ajena en la tabla a la que se ha propagado.
        -   Si la relación es de dependencia, la clave primaria de la tabla correspondiente a la clase débil está formada por la concatenación de los identificadores de ambas clases.
    -   La relación se transforma en una tabla de clave primaria sólo el identificador de la clase de cardinalidad máxima _N_ si:
        -   La relación tiene atributos propios y se desea que aparezcan como tales.
        -   Se piensa que en un futuro la relación puede convertirse en _M:N_ .
        -   El número de ocurrencias relacionadas de la clase que propaga su clave es muy pequeño (y por tanto pueden existir muchos valores nulos).
    -   Al igual que en el caso de relaciones _M:N_ , las claves propagadas son claves ajenas de la nueva tabla creada.
-   **Relaciones 1:1** : es un caso particular de las _1:N_ y se puede tanto crear una tabla o propagar la clave, si bien, en este último caso, la clave se propaga en las dos direcciones. Para decidir qué solución adoptar, se debe analizar la situación, intentando recoger la mayor semántica posible, y evitar valores nulos.  
    Las relaciones de agregación se transforman del mismo modo que las _1:N_ .

**Transformación de relaciones exclusivas**

Después de haber realizado la transformación según las relaciones _1:N_ , se debe tener en cuenta que si se han propagado los atributos de las clases, convirtiéndose en claves ajenas de la tabla que provenía de la clase común a las relaciones, hay que comprobar que una y sólo una de esas claves es nula en cada ocurrencia. En caso de no propagarse las claves, estas comprobaciones se deben hacer en las tablas resultantes de transformar las relaciones.

**Transformación de la herencia**

Existen varias posibilidades que deben ser evaluadas por el diseñador a fin de elegir la que mejor se ajuste a los requisitos. Las opciones para tratar la transformación de la herencia son:

-   **Opción a** : Consiste en crear una tabla para la superclase que tenga de clave primaria el identificador y una tabla para cada una de las subclases que tengan el identificador de la superclase como clave ajena.  
    Esta solución es apropiada cuando las subclases tienen muchos atributos distintos, y se quieren conservar los atributos comunes en una tabla. También se deben implantar las restricciones y/o aserciones adecuadas. Es la solución que mejor conserva la semántica.
-   **Opción b** : Se crea una tabla para cada subclase, los atributos comunes aparecen en todas las subclases y la clave primaria para cada tabla es el identificador de la superclase.  
    Esta opción mejora la eficiencia en los accesos a todos los atributos de una subclase (los heredados y los específicos).
-   **Opción c** : Agrupar en una tabla todos los atributos de la clase y sus subclases. La clave primaria de esta tabla es el identificador de la clase. Se añade un atributo que indique a qué subclase pertenece cada ocurrencia (el atributo discriminante de la jerarquía).  
    Esta solución puede aplicarse cuando las subclases se diferencien en pocos atributos y las relaciones que asocian a las subclases con otras clases, sean las mismas. Para el caso de que la jerarquía sea total, el atributo discriminante no podrá tomar valor nulo (ya que toda ocurrencia pertenece a alguna subclase).

Técnicas Matriciales
--------------------

Las técnicas matriciales tienen como objetivo representar las relaciones existentes entre distintos tipos de entidades, objetos o cualquier otro elemento del sistema.

Se utilizan, principalmente, para analizar la consistencia entre los modelos generados durante el desarrollo, comprobar la trazabilidad con los requisitos especificados por el usuario, etc.

### Descripción

Las técnicas matriciales son útiles para representar las relaciones entre elementos comunes de los distintos modelos, tales como entidades/procesos, procesos/diálogos, datos/localización geográfica, y asegurar que los modelos son coherentes entre sí.

Las siguientes son algunas de las matrices empleadas en MÉTRICA Versión 3:

-   Procesos/localización geográfica: permite representar la localización geográfica de los procesos de una organización.
-   Almacenes de datos/entidades del modelo lógico de datos normalizado: establece las relaciones existentes entre los almacenes de datos y las entidades, y permite verificar que cada almacén de datos definido en el modelo de procesos se corresponde con una o varias entidades del modelo lógico de datos normalizado.
-   Atributos de interfaz/atributos de entidades del modelo lógico de datos normalizado: permite verificar que los atributos que aparecen en cada diálogo de la interfaz de usuario forman parte del modelo lógico de datos normalizado.
-   Entidades/procesos: permite representar el tratamiento lógico de los procesos sobre los datos del sistema y verificar que cada entidad del modelo lógico de datos normalizado es accedida por algún proceso primitivo representado en el DFD.
-   Diálogos/procesos: permite representar los diálogos asociados a un proceso interactivo y verificar que cada proceso interactivo tiene asociado al menos un diálogo.
-   Objetos Diagrama de interacción / clases, atributos al modelo de clases: permite verificar que cada mensaje entre objetos se corresponde con un método de una clase.
-   Mensajes Diagrama de interacción / métodos, atributos del modelo de clases: permite verificar que una clase tiene capacidad para proporcionar los datos que se soliciten en los mensajes que recibe.
-   Evento, acción, actividad de clases / métodos de clases: permite verificar que todo evento, actividad o acción de una clase se corresponde con un método de esa clase.
-   Clases/elementos del modelo físico de datos: permite verificar que cada elemento del modelo físico de datos se corresponde con un elemento del modelo de clases.
-   Dependencias entre subsistemas/subsistemas: permite representar para cada subsistema, los subsistemas que dependen de él.
-   Esquemas físicos de datos / nodos: permite representar la localización física de los datos en los nodos de la arquitectura del sistema, así como verificar que cada esquema del modelo físico de datos está asociado con un nodo del particionamiento físico del sistema de información.

### Notación

Dados dos tipos de elementos A y B, su representación será una matriz bidimensional NxM, siendo N el número de elementos de A, y M el número de elementos de B.

En el cruce de una fila y una columna (C), se tendrá el modo en que se relacionan un elemento concreto de A y uno de B.

![](https://gsitic.files.wordpress.com/2018/04/notacion_matriz.png?w=825)

Bibliografia
------------

-   [Junta de Castilla y León (SOP\_INF\_T09\_FINAL)](https://eclap.jcyl.es/web/jcyl/ECLAP/es/Plantilla66y33/1259395037582/_/_/_)
-   [PAe](https://administracionelectronica.gob.es/pae_Home/pae_Documentacion/pae_Metodolog/pae_Metrica_v3.html#.WtYfDnpuZpg)
